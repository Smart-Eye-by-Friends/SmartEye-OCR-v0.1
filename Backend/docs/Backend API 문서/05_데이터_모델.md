# ë°ì´í„° ëª¨ë¸

SmartEyeSsen APIì—ì„œ ì‚¬ìš©ë˜ëŠ” ì£¼ìš” ë°ì´í„° êµ¬ì¡°ì™€ Enum ì •ì˜ì…ë‹ˆë‹¤.

## ğŸ“– ëª©ì°¨

- [Enum ì •ì˜](#enum-ì •ì˜)
- [í”„ë¡œì íŠ¸ ê´€ë ¨ ìŠ¤í‚¤ë§ˆ](#í”„ë¡œì íŠ¸-ê´€ë ¨-ìŠ¤í‚¤ë§ˆ)
- [í˜ì´ì§€ ê´€ë ¨ ìŠ¤í‚¤ë§ˆ](#í˜ì´ì§€-ê´€ë ¨-ìŠ¤í‚¤ë§ˆ)
- [ë ˆì´ì•„ì›ƒ ë° ë¶„ì„ ê´€ë ¨ ìŠ¤í‚¤ë§ˆ](#ë ˆì´ì•„ì›ƒ-ë°-ë¶„ì„-ê´€ë ¨-ìŠ¤í‚¤ë§ˆ)
- [í…ìŠ¤íŠ¸ ë²„ì „ ê´€ë ¨ ìŠ¤í‚¤ë§ˆ](#í…ìŠ¤íŠ¸-ë²„ì „-ê´€ë ¨-ìŠ¤í‚¤ë§ˆ)
- [ë‹¤ìš´ë¡œë“œ ê´€ë ¨ ìŠ¤í‚¤ë§ˆ](#ë‹¤ìš´ë¡œë“œ-ê´€ë ¨-ìŠ¤í‚¤ë§ˆ)

---

## Enum ì •ì˜

### AnalysisModeEnum

ë¶„ì„ ëª¨ë“œë¥¼ ì •ì˜í•©ë‹ˆë‹¤.

| ê°’ | ì„¤ëª… |
|----|------|
| `auto` | ìë™ ë¶„ì„ (ê¸°ë³¸ê°’) |
| `manual` | ìˆ˜ë™ ë¶„ì„ |
| `hybrid` | í•˜ì´ë¸Œë¦¬ë“œ (ìë™ + ìˆ˜ë™ ì¡°ì •) |

### ProjectStatusEnum

í”„ë¡œì íŠ¸ ìƒíƒœë¥¼ ì •ì˜í•©ë‹ˆë‹¤.

| ê°’ | ì„¤ëª… |
|----|------|
| `created` | ìƒì„±ë¨ (ì´ˆê¸° ìƒíƒœ) |
| `in_progress` | ì§„í–‰ ì¤‘ (ë¶„ì„ ì¤‘) |
| `completed` | ì™„ë£Œ |
| `error` | ì˜¤ë¥˜ ë°œìƒ |

### AnalysisStatusEnum

í˜ì´ì§€ ë¶„ì„ ìƒíƒœë¥¼ ì •ì˜í•©ë‹ˆë‹¤.

| ê°’ | ì„¤ëª… |
|----|------|
| `pending` | ëŒ€ê¸° ì¤‘ (ë¶„ì„ ì „) |
| `processing` | ì²˜ë¦¬ ì¤‘ |
| `completed` | ì™„ë£Œ |
| `error` | ì˜¤ë¥˜ ë°œìƒ |

### VersionTypeEnum

í…ìŠ¤íŠ¸ ë²„ì „ ìœ í˜•ì„ ì •ì˜í•©ë‹ˆë‹¤.

| ê°’ | ì„¤ëª… |
|----|------|
| `original` | ì›ë³¸ OCR ê²°ê³¼ (ì •ë ¬ë§Œ ì ìš©) |
| `auto_formatted` | ìë™ í¬ë§·íŒ… ì ìš© (ì ‘ë‘ì‚¬/ì ‘ë¯¸ì‚¬/ë“¤ì—¬ì“°ê¸°) |
| `user_edited` | ì‚¬ìš©ì í¸ì§‘ |

### SortingMethodEnum

ì •ë ¬ ë°©ì‹ì„ ì •ì˜í•©ë‹ˆë‹¤.

| ê°’ | ì„¤ëª… |
|----|------|
| `question_based` | ë¬¸ì œ ë²ˆí˜¸ ê¸°ë°˜ ì •ë ¬ (worksheet) |
| `reading_order` | ì½ê¸° ìˆœì„œ ê¸°ë°˜ ì •ë ¬ (document) |

---

## í”„ë¡œì íŠ¸ ê´€ë ¨ ìŠ¤í‚¤ë§ˆ

### ProjectCreate

í”„ë¡œì íŠ¸ ìƒì„± ìš”ì²­ ìŠ¤í‚¤ë§ˆì…ë‹ˆë‹¤.

```typescript
interface ProjectCreate {
  project_name: string;      // í”„ë¡œì íŠ¸ ì´ë¦„ (1~255ì)
  doc_type_id: number;        // ë¬¸ì„œ íƒ€ì… ID (1: worksheet, 2: document)
  analysis_mode?: string;     // ë¶„ì„ ëª¨ë“œ (ê¸°ë³¸ê°’: "auto")
  user_id: number;            // ì‚¬ìš©ì ID
}
```

**ì˜ˆì‹œ**:

```json
{
  "project_name": "ìˆ˜í•™ ë¬¸ì œì§‘ 1ë‹¨ì›",
  "doc_type_id": 1,
  "analysis_mode": "auto",
  "user_id": 1
}
```

### ProjectResponse

í”„ë¡œì íŠ¸ ì‘ë‹µ ìŠ¤í‚¤ë§ˆì…ë‹ˆë‹¤.

```typescript
interface ProjectResponse {
  project_id: number;         // í”„ë¡œì íŠ¸ ê³ ìœ  ID
  user_id: number;            // ì†Œìœ ì ì‚¬ìš©ì ID
  doc_type_id: number;        // ë¬¸ì„œ íƒ€ì… ID
  project_name: string;       // í”„ë¡œì íŠ¸ ì´ë¦„
  total_pages: number;        // ì´ í˜ì´ì§€ ìˆ˜
  analysis_mode: string;      // ë¶„ì„ ëª¨ë“œ
  status: string;             // í”„ë¡œì íŠ¸ ìƒíƒœ
  created_at: string;         // ìƒì„±ì¼ì‹œ (ISO 8601)
  updated_at: string;         // ìˆ˜ì •ì¼ì‹œ (ISO 8601)
}
```

**ì˜ˆì‹œ**:

```json
{
  "project_id": 1,
  "user_id": 1,
  "doc_type_id": 1,
  "project_name": "ìˆ˜í•™ ë¬¸ì œì§‘ 1ë‹¨ì›",
  "total_pages": 5,
  "analysis_mode": "auto",
  "status": "completed",
  "created_at": "2025-01-22T10:30:00",
  "updated_at": "2025-01-22T10:35:00"
}
```

### ProjectWithPagesResponse

í˜ì´ì§€ ëª©ë¡ì„ í¬í•¨í•œ í”„ë¡œì íŠ¸ ì‘ë‹µ ìŠ¤í‚¤ë§ˆì…ë‹ˆë‹¤.

```typescript
interface ProjectWithPagesResponse extends ProjectResponse {
  pages: PageResponse[];      // í˜ì´ì§€ ëª©ë¡
}
```

**ì˜ˆì‹œ**:

```json
{
  "project_id": 1,
  "user_id": 1,
  "doc_type_id": 1,
  "project_name": "ìˆ˜í•™ ë¬¸ì œì§‘ 1ë‹¨ì›",
  "total_pages": 2,
  "analysis_mode": "auto",
  "status": "completed",
  "created_at": "2025-01-22T10:30:00",
  "updated_at": "2025-01-22T10:35:00",
  "pages": [
    {
      "page_id": 1,
      "project_id": 1,
      "page_number": 1,
      "image_path": "uploads/project_1_page_1_abc123.png",
      "image_width": 2480,
      "image_height": 3508,
      "analysis_status": "completed",
      "processing_time": 5.23,
      "created_at": "2025-01-22T10:31:00",
      "analyzed_at": "2025-01-22T10:35:00"
    }
  ]
}
```

### ProjectUpdate

í”„ë¡œì íŠ¸ ìˆ˜ì • ìš”ì²­ ìŠ¤í‚¤ë§ˆì…ë‹ˆë‹¤. ëª¨ë“  í•„ë“œëŠ” ì„ íƒì‚¬í•­ì…ë‹ˆë‹¤.

```typescript
interface ProjectUpdate {
  project_name?: string;      // í”„ë¡œì íŠ¸ ì´ë¦„
  doc_type_id?: number;       // ë¬¸ì„œ íƒ€ì… ID
  analysis_mode?: string;     // ë¶„ì„ ëª¨ë“œ
  status?: string;            // í”„ë¡œì íŠ¸ ìƒíƒœ
}
```

---

## í˜ì´ì§€ ê´€ë ¨ ìŠ¤í‚¤ë§ˆ

### PageCreate

í˜ì´ì§€ ìƒì„± ìš”ì²­ ìŠ¤í‚¤ë§ˆì…ë‹ˆë‹¤.

```typescript
interface PageCreate {
  project_id: number;         // í”„ë¡œì íŠ¸ ID
  page_number: number;        // í˜ì´ì§€ ë²ˆí˜¸ (1ë¶€í„° ì‹œì‘)
  image_path: string;         // ì´ë¯¸ì§€ íŒŒì¼ ê²½ë¡œ
  image_width?: number;       // ì´ë¯¸ì§€ ë„ˆë¹„ (í”½ì…€)
  image_height?: number;      // ì´ë¯¸ì§€ ë†’ì´ (í”½ì…€)
}
```

### PageResponse

í˜ì´ì§€ ì‘ë‹µ ìŠ¤í‚¤ë§ˆì…ë‹ˆë‹¤.

```typescript
interface PageResponse {
  page_id: number;            // í˜ì´ì§€ ê³ ìœ  ID
  project_id: number;         // ì†Œì† í”„ë¡œì íŠ¸ ID
  page_number: number;        // í˜ì´ì§€ ë²ˆí˜¸
  image_path: string;         // ì´ë¯¸ì§€ íŒŒì¼ ê²½ë¡œ
  image_width: number | null; // ì´ë¯¸ì§€ ë„ˆë¹„ (í”½ì…€)
  image_height: number | null;// ì´ë¯¸ì§€ ë†’ì´ (í”½ì…€)
  analysis_status: string;    // ë¶„ì„ ìƒíƒœ
  processing_time: number | null; // ì²˜ë¦¬ ì‹œê°„ (ì´ˆ)
  created_at: string;         // ìƒì„±ì¼ì‹œ
  analyzed_at: string | null; // ë¶„ì„ ì™„ë£Œì¼ì‹œ
}
```

**ì˜ˆì‹œ**:

```json
{
  "page_id": 1,
  "project_id": 1,
  "page_number": 1,
  "image_path": "uploads/project_1_page_1_abc123.png",
  "image_width": 2480,
  "image_height": 3508,
  "analysis_status": "completed",
  "processing_time": 5.23,
  "created_at": "2025-01-22T10:31:00",
  "analyzed_at": "2025-01-22T10:35:00"
}
```

### MultiPageCreateResponse

PDF ì—…ë¡œë“œ ì‹œ ì—¬ëŸ¬ í˜ì´ì§€ ìƒì„± ì‘ë‹µ ìŠ¤í‚¤ë§ˆì…ë‹ˆë‹¤.

```typescript
interface MultiPageCreateResponse {
  project_id: number;         // í”„ë¡œì íŠ¸ ID
  total_created: number;      // ìƒì„±ëœ í˜ì´ì§€ ìˆ˜
  source_type: string;        // ì†ŒìŠ¤ íƒ€ì… ("pdf" ë˜ëŠ” "image")
  pages: PageResponse[];      // ìƒì„±ëœ í˜ì´ì§€ ëª©ë¡
}
```

**ì˜ˆì‹œ**:

```json
{
  "project_id": 1,
  "total_created": 5,
  "source_type": "pdf",
  "pages": [
    {
      "page_id": 1,
      "project_id": 1,
      "page_number": 1,
      "image_path": "uploads/3/page_1.png",
      "image_width": 2480,
      "image_height": 3508,
      "analysis_status": "pending",
      "processing_time": null,
      "created_at": "2025-01-22T10:31:00",
      "analyzed_at": null
    }
    // ... ë‚˜ë¨¸ì§€ í˜ì´ì§€
  ]
}
```

---

## ë ˆì´ì•„ì›ƒ ë° ë¶„ì„ ê´€ë ¨ ìŠ¤í‚¤ë§ˆ

### LayoutElementResponse

ë ˆì´ì•„ì›ƒ ìš”ì†Œ ì‘ë‹µ ìŠ¤í‚¤ë§ˆì…ë‹ˆë‹¤.

```typescript
interface LayoutElementResponse {
  element_id: number;         // ìš”ì†Œ ê³ ìœ  ID
  page_id: number;            // ì†Œì† í˜ì´ì§€ ID
  class_name: string;         // í´ë˜ìŠ¤ëª… (question_number, text, figure, table ë“±)
  confidence: number;         // ì‹ ë¢°ë„ (0.0~1.0)
  bbox_x: number;             // X ì¢Œí‘œ (ì™¼ìª½ ìƒë‹¨)
  bbox_y: number;             // Y ì¢Œí‘œ (ì™¼ìª½ ìƒë‹¨)
  bbox_width: number;         // ë„ˆë¹„ (í”½ì…€)
  bbox_height: number;        // ë†’ì´ (í”½ì…€)
  area: number | null;        // ë©´ì  (ìë™ ê³„ì‚°)
  y_position: number | null;  // Y ì •ë ¬ìš© ì¢Œí‘œ
  x_position: number | null;  // X ì •ë ¬ìš© ì¢Œí‘œ
  created_at: string;         // ìƒì„±ì¼ì‹œ
}
```

### TextContentResponse

OCR í…ìŠ¤íŠ¸ ì‘ë‹µ ìŠ¤í‚¤ë§ˆì…ë‹ˆë‹¤.

```typescript
interface TextContentResponse {
  text_id: number;            // OCR ê²°ê³¼ ê³ ìœ  ID
  element_id: number;         // ë ˆì´ì•„ì›ƒ ìš”ì†Œ ID
  ocr_text: string;           // OCR ì¶”ì¶œ í…ìŠ¤íŠ¸
  ocr_engine: string;         // OCR ì—”ì§„ëª… (ì˜ˆ: "PaddleOCR")
  ocr_confidence: number | null; // OCR ì‹ ë¢°ë„ (0.0~1.0)
  language: string;           // ì–¸ì–´ ì½”ë“œ (ko, en, ja, zh)
  created_at: string;         // ìƒì„±ì¼ì‹œ
}
```

### AIDescriptionResponse

AI ì„¤ëª… ì‘ë‹µ ìŠ¤í‚¤ë§ˆì…ë‹ˆë‹¤.

```typescript
interface AIDescriptionResponse {
  ai_desc_id: number;         // AI ì„¤ëª… ê³ ìœ  ID
  element_id: number;         // ë ˆì´ì•„ì›ƒ ìš”ì†Œ ID
  description: string;        // AI ìƒì„± ì„¤ëª… í…ìŠ¤íŠ¸
  ai_model: string;           // AI ëª¨ë¸ëª… (ì˜ˆ: "gpt-4o-mini")
  prompt_used: string | null; // ì‚¬ìš©í•œ í”„ë¡¬í”„íŠ¸ (ë””ë²„ê¹…ìš©)
  created_at: string;         // ìƒì„±ì¼ì‹œ
}
```

---

## í…ìŠ¤íŠ¸ ë²„ì „ ê´€ë ¨ ìŠ¤í‚¤ë§ˆ

### PageTextResponse

í˜ì´ì§€ í…ìŠ¤íŠ¸ ì¡°íšŒ ì‘ë‹µ ìŠ¤í‚¤ë§ˆì…ë‹ˆë‹¤.

```typescript
interface PageTextResponse {
  page_id: number;            // í˜ì´ì§€ ID
  version_id: number;         // í…ìŠ¤íŠ¸ ë²„ì „ ID
  version_type: string;       // ë²„ì „ ìœ í˜• (original, auto_formatted, user_edited)
  is_current: boolean;        // í˜„ì¬ ë²„ì „ ì—¬ë¶€
  content: string;            // HTML í˜•ì‹ì˜ í…ìŠ¤íŠ¸ ë‚´ìš©
  created_at: string;         // ë²„ì „ ìƒì„±ì¼ì‹œ
}
```

**ì˜ˆì‹œ**:

```json
{
  "page_id": 1,
  "version_id": 3,
  "version_type": "user_edited",
  "is_current": true,
  "content": "<h2>1. ë‹¤ìŒ ì‹ì„ ê³„ì‚°í•˜ì‹œì˜¤.</h2>\n<p>(1) 3 + 5 = ?</p>\n<p>ë‹µ: 8</p>",
  "created_at": "2025-01-22T11:00:00"
}
```

### PageTextUpdate

í˜ì´ì§€ í…ìŠ¤íŠ¸ ì €ì¥ ìš”ì²­ ìŠ¤í‚¤ë§ˆì…ë‹ˆë‹¤.

```typescript
interface PageTextUpdate {
  content: string;            // ì €ì¥í•  í…ìŠ¤íŠ¸ ë‚´ìš© (HTML í˜•ì‹)
  user_id?: number;           // ìˆ˜ì •í•œ ì‚¬ìš©ì ID (ì„ íƒ)
}
```

**ì˜ˆì‹œ**:

```json
{
  "content": "<h2>1. ë‹¤ìŒ ì‹ì„ ê³„ì‚°í•˜ì‹œì˜¤.</h2>\n<p>(1) 3 + 5 = ?</p>\n<p>ë‹µ: 8</p>",
  "user_id": 1
}
```

### TextVersionResponse

í…ìŠ¤íŠ¸ ë²„ì „ ì „ì²´ ì •ë³´ ì‘ë‹µ ìŠ¤í‚¤ë§ˆì…ë‹ˆë‹¤.

```typescript
interface TextVersionResponse {
  version_id: number;         // ë²„ì „ ê³ ìœ  ID
  page_id: number;            // í˜ì´ì§€ ID
  user_id: number | null;     // ìˆ˜ì •í•œ ì‚¬ìš©ì ID
  content: string;            // í…ìŠ¤íŠ¸ ë‚´ìš©
  version_number: number;     // ë²„ì „ ë²ˆí˜¸ (1, 2, 3, ...)
  version_type: string;       // ë²„ì „ ìœ í˜•
  is_current: boolean;        // í˜„ì¬ ë²„ì „ ì—¬ë¶€
  created_at: string;         // ë²„ì „ ìƒì„±ì¼ì‹œ
}
```

---

## ë‹¤ìš´ë¡œë“œ ê´€ë ¨ ìŠ¤í‚¤ë§ˆ

### CombinedTextResponse

í†µí•© í…ìŠ¤íŠ¸ ì¡°íšŒ ì‘ë‹µ ìŠ¤í‚¤ë§ˆì…ë‹ˆë‹¤.

```typescript
interface CombinedTextResponse {
  project_id: number;         // í”„ë¡œì íŠ¸ ID
  project_name: string | null;// í”„ë¡œì íŠ¸ ì´ë¦„
  combined_text: string;      // í†µí•©ëœ ì „ì²´ í…ìŠ¤íŠ¸ (HTML)
  stats: CombinedTextStats;   // í†µê³„ ì •ë³´
  generated_at: string;       // ìƒì„±ì¼ì‹œ
}

interface CombinedTextStats {
  total_pages: number;        // ì´ í˜ì´ì§€ ìˆ˜
  total_words: number;        // ì´ ë‹¨ì–´ ìˆ˜
  total_characters: number;   // ì´ ë¬¸ì ìˆ˜
}
```

**ì˜ˆì‹œ**:

```json
{
  "project_id": 1,
  "project_name": "ìˆ˜í•™ ë¬¸ì œì§‘ 1ë‹¨ì›",
  "combined_text": "<h2>1. ë‹¤ìŒ ì‹ì„ ê³„ì‚°í•˜ì‹œì˜¤.</h2>\n<p>(1) 3 + 5 = ?</p>\n<p>ë‹µ: 8</p>",
  "stats": {
    "total_pages": 3,
    "total_words": 450,
    "total_characters": 2340
  },
  "generated_at": "2025-01-22T11:00:00"
}
```

---

## ë¶„ì„ ê´€ë ¨ ìŠ¤í‚¤ë§ˆ

### ProjectAnalysisRequest

í”„ë¡œì íŠ¸ ë¶„ì„ ìš”ì²­ ìŠ¤í‚¤ë§ˆì…ë‹ˆë‹¤.

```typescript
interface ProjectAnalysisRequest {
  use_ai_descriptions?: boolean; // AI ì„¤ëª… ìƒì„± ì—¬ë¶€ (ê¸°ë³¸ê°’: true)
  api_key?: string | null;       // OpenAI API í‚¤ (ì„ íƒ)
}
```

### PageAnalysisRequest

ë‹¨ì¼ í˜ì´ì§€ ë¹„ë™ê¸° ë¶„ì„ ìš”ì²­ ìŠ¤í‚¤ë§ˆì…ë‹ˆë‹¤.

```typescript
interface PageAnalysisRequest {
  use_ai_descriptions?: boolean; // AI ì„¤ëª… ìƒì„± ì—¬ë¶€ (ê¸°ë³¸ê°’: true)
  api_key?: string | null;       // OpenAI API í‚¤ (ì„ íƒ)
}
```

### AnalysisJobResponse

ë¹„ë™ê¸° ë¶„ì„ ì‘ì—… ìƒíƒœ ì‘ë‹µ ìŠ¤í‚¤ë§ˆì…ë‹ˆë‹¤.

```typescript
interface AnalysisJobResponse {
  job_id: string;             // ì‘ì—… ID (UUID)
  status: string;             // ì‘ì—… ìƒíƒœ (pending, processing, completed, failed)
  page_id: number;            // í˜ì´ì§€ ID
  page_number: number;        // í˜ì´ì§€ ë²ˆí˜¸
  project_id: number;         // í”„ë¡œì íŠ¸ ID
  result: AnalysisResult | null; // ë¶„ì„ ê²°ê³¼ (ì™„ë£Œ ì‹œ)
  error: string | null;       // ì—ëŸ¬ ë©”ì‹œì§€ (ì‹¤íŒ¨ ì‹œ)
  progress: string;           // ì§„í–‰ ìƒí™© ë©”ì‹œì§€
}

interface AnalysisResult {
  page_id: number;
  page_number: number;
  layout_count: number;       // ê°ì§€ëœ ë ˆì´ì•„ì›ƒ ìš”ì†Œ ìˆ˜
  ocr_count: number;          // OCR ìˆ˜í–‰ëœ ìš”ì†Œ ìˆ˜
  ai_description_count: number; // AI ì„¤ëª… ìƒì„±ëœ ìš”ì†Œ ìˆ˜
  processing_time: number;    // ì²˜ë¦¬ ì‹œê°„ (ì´ˆ)
  message: string;            // ê²°ê³¼ ë©”ì‹œì§€
}
```

---

## ì—ëŸ¬ ì‘ë‹µ ìŠ¤í‚¤ë§ˆ

### ErrorResponse

ì—ëŸ¬ ì‘ë‹µ ìŠ¤í‚¤ë§ˆì…ë‹ˆë‹¤.

```typescript
interface ErrorResponse {
  error: string;              // ì—ëŸ¬ ë©”ì‹œì§€
  detail?: string;            // ìƒì„¸ ì„¤ëª… (ì„ íƒ)
  status_code: number;        // HTTP ìƒíƒœ ì½”ë“œ
}
```

**ì˜ˆì‹œ**:

```json
{
  "error": "í”„ë¡œì íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.",
  "status_code": 404
}
```

```json
{
  "error": "Validation Error",
  "detail": "project_nameì€ 1ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.",
  "status_code": 400
}
```

---

## TypeScript íƒ€ì… ì •ì˜ íŒŒì¼

í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” TypeScript íƒ€ì… ì •ì˜ ì˜ˆì‹œì…ë‹ˆë‹¤:

```typescript
// types/api.ts

// Enums
export enum AnalysisModeEnum {
  AUTO = 'auto',
  MANUAL = 'manual',
  HYBRID = 'hybrid',
}

export enum ProjectStatusEnum {
  CREATED = 'created',
  IN_PROGRESS = 'in_progress',
  COMPLETED = 'completed',
  ERROR = 'error',
}

export enum AnalysisStatusEnum {
  PENDING = 'pending',
  PROCESSING = 'processing',
  COMPLETED = 'completed',
  ERROR = 'error',
}

export enum VersionTypeEnum {
  ORIGINAL = 'original',
  AUTO_FORMATTED = 'auto_formatted',
  USER_EDITED = 'user_edited',
}

// Project
export interface ProjectCreate {
  project_name: string;
  doc_type_id: number;
  analysis_mode?: AnalysisModeEnum;
  user_id: number;
}

export interface ProjectResponse {
  project_id: number;
  user_id: number;
  doc_type_id: number;
  project_name: string;
  total_pages: number;
  analysis_mode: AnalysisModeEnum;
  status: ProjectStatusEnum;
  created_at: string;
  updated_at: string;
}

export interface ProjectWithPagesResponse extends ProjectResponse {
  pages: PageResponse[];
}

// Page
export interface PageResponse {
  page_id: number;
  project_id: number;
  page_number: number;
  image_path: string;
  image_width: number | null;
  image_height: number | null;
  analysis_status: AnalysisStatusEnum;
  processing_time: number | null;
  created_at: string;
  analyzed_at: string | null;
}

export interface MultiPageCreateResponse {
  project_id: number;
  total_created: number;
  source_type: string;
  pages: PageResponse[];
}

// Text
export interface PageTextResponse {
  page_id: number;
  version_id: number;
  version_type: VersionTypeEnum;
  is_current: boolean;
  content: string;
  created_at: string;
}

export interface PageTextUpdate {
  content: string;
  user_id?: number;
}

// Download
export interface CombinedTextStats {
  total_pages: number;
  total_words: number;
  total_characters: number;
}

export interface CombinedTextResponse {
  project_id: number;
  project_name: string | null;
  combined_text: string;
  stats: CombinedTextStats;
  generated_at: string;
}

// Analysis
export interface AnalysisRequest {
  use_ai_descriptions?: boolean;
  api_key?: string | null;
}

export interface AnalysisResult {
  page_id: number;
  page_number: number;
  layout_count: number;
  ocr_count: number;
  ai_description_count: number;
  processing_time: number;
  message: string;
}

export interface AnalysisJobResponse {
  job_id: string;
  status: 'pending' | 'processing' | 'completed' | 'failed';
  page_id: number;
  page_number: number;
  project_id: number;
  result: AnalysisResult | null;
  error: string | null;
  progress: string;
}

// Error
export interface ErrorResponse {
  error: string;
  detail?: string;
  status_code: number;
}
```

---

## ë‹¤ìŒ ë‹¨ê³„

- **[ì—ëŸ¬ ì²˜ë¦¬](./06_ì—ëŸ¬_ì²˜ë¦¬.md)**: ì—ëŸ¬ ì½”ë“œ ë° ì²˜ë¦¬ ë°©ë²•
- **[ê°œìš”](./00_ê°œìš”.md)**: ì‹œìŠ¤í…œ ì†Œê°œ ë° ì‹œì‘í•˜ê¸°
