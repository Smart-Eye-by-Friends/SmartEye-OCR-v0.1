# ì—ëŸ¬ ì²˜ë¦¬

SmartEyeSsen APIì˜ ì—ëŸ¬ ì‘ë‹µ í˜•ì‹ê³¼ ì²˜ë¦¬ ë°©ë²•ì„ ì„¤ëª…í•©ë‹ˆë‹¤.

## ğŸ“– ëª©ì°¨

- [ì—ëŸ¬ ì‘ë‹µ í˜•ì‹](#ì—ëŸ¬-ì‘ë‹µ-í˜•ì‹)
- [HTTP ìƒíƒœ ì½”ë“œ](#http-ìƒíƒœ-ì½”ë“œ)
- [ê³µí†µ ì—ëŸ¬ ì½”ë“œ](#ê³µí†µ-ì—ëŸ¬-ì½”ë“œ)
- [ì—ëŸ¬ ì²˜ë¦¬ ëª¨ë²” ì‚¬ë¡€](#ì—ëŸ¬-ì²˜ë¦¬-ëª¨ë²”-ì‚¬ë¡€)
- [í”„ë¡ íŠ¸ì—”ë“œ ì—ëŸ¬ í•¸ë“¤ëŸ¬ ì˜ˆì œ](#í”„ë¡ íŠ¸ì—”ë“œ-ì—ëŸ¬-í•¸ë“¤ëŸ¬-ì˜ˆì œ)

---

## ì—ëŸ¬ ì‘ë‹µ í˜•ì‹

ëª¨ë“  API ì—ëŸ¬ëŠ” ì¼ê´€ëœ JSON í˜•ì‹ìœ¼ë¡œ ë°˜í™˜ë©ë‹ˆë‹¤.

### ê¸°ë³¸ í˜•ì‹

```json
{
  "error": "ì—ëŸ¬ ë©”ì‹œì§€",
  "detail": "ìƒì„¸ ì„¤ëª… (ì„ íƒ)",
  "status_code": 400
}
```

### í•„ë“œ ì„¤ëª…

| í•„ë“œ | íƒ€ì… | í•„ìˆ˜ | ì„¤ëª… |
|------|------|------|------|
| `error` | string | âœ… | ê°„ë‹¨í•œ ì—ëŸ¬ ë©”ì‹œì§€ |
| `detail` | string | âŒ | ìƒì„¸í•œ ì—ëŸ¬ ì„¤ëª… (ì„ íƒ) |
| `status_code` | number | âœ… | HTTP ìƒíƒœ ì½”ë“œ |

---

## HTTP ìƒíƒœ ì½”ë“œ

### 2xx: ì„±ê³µ

| ì½”ë“œ | ì„¤ëª… | ì‚¬ìš© ì˜ˆì‹œ |
|------|------|----------|
| 200 OK | ìš”ì²­ ì„±ê³µ | GET ìš”ì²­, PATCH ìš”ì²­ |
| 201 Created | ë¦¬ì†ŒìŠ¤ ìƒì„± ì„±ê³µ | POST ìš”ì²­ (í”„ë¡œì íŠ¸ ìƒì„±, í˜ì´ì§€ ì—…ë¡œë“œ) |
| 202 Accepted | ìš”ì²­ ìˆ˜ë½ë¨ (ë¹„ë™ê¸° ì²˜ë¦¬) | ë¶„ì„ ì‘ì—… ì‹œì‘ |
| 204 No Content | ì„±ê³µ, ì‘ë‹µ ë³¸ë¬¸ ì—†ìŒ | DELETE ìš”ì²­ |

### 4xx: í´ë¼ì´ì–¸íŠ¸ ì—ëŸ¬

#### 400 Bad Request

ìš”ì²­ ë°ì´í„°ê°€ ìœ íš¨í•˜ì§€ ì•Šì€ ê²½ìš°

**ì˜ˆì‹œ**:

```json
{
  "error": "Validation Error",
  "detail": "project_nameì€ 1ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.",
  "status_code": 400
}
```

**ì›ì¸**:
- í•„ìˆ˜ í•„ë“œ ëˆ„ë½
- ë°ì´í„° íƒ€ì… ë¶ˆì¼ì¹˜
- ìœ íš¨ì„± ê²€ì¦ ì‹¤íŒ¨
- ì˜ëª»ëœ íŒŒì¼ í˜•ì‹

**í•´ê²° ë°©ë²•**:
- ìš”ì²­ ë°ì´í„° í˜•ì‹ í™•ì¸
- API ë¬¸ì„œì˜ í•„ìˆ˜ í•„ë“œ í™•ì¸
- ë°ì´í„° íƒ€ì… ê²€ì¦

#### 404 Not Found

ìš”ì²­í•œ ë¦¬ì†ŒìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ëŠ” ê²½ìš°

**ì˜ˆì‹œ**:

```json
{
  "error": "í”„ë¡œì íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.",
  "status_code": 404
}
```

**ì›ì¸**:
- ì¡´ì¬í•˜ì§€ ì•ŠëŠ” IDë¡œ ì¡°íšŒ
- ì‚­ì œëœ ë¦¬ì†ŒìŠ¤ ì ‘ê·¼
- ì˜ëª»ëœ URL

**í•´ê²° ë°©ë²•**:
- ID ê°’ í™•ì¸
- ë¦¬ì†ŒìŠ¤ ì¡´ì¬ ì—¬ë¶€ ì‚¬ì „ í™•ì¸
- ì‚¬ìš©ìì—ê²Œ ì ì ˆí•œ ë©”ì‹œì§€ í‘œì‹œ

#### 413 Payload Too Large

ìš”ì²­ ë³¸ë¬¸ì´ ë„ˆë¬´ í° ê²½ìš° (ì¼ë°˜ì ìœ¼ë¡œ íŒŒì¼ ì—…ë¡œë“œ)

**ì˜ˆì‹œ**:

```json
{
  "error": "íŒŒì¼ í¬ê¸°ê°€ ë„ˆë¬´ í½ë‹ˆë‹¤.",
  "detail": "ìµœëŒ€ 50MBê¹Œì§€ ì—…ë¡œë“œ ê°€ëŠ¥í•©ë‹ˆë‹¤.",
  "status_code": 413
}
```

**ì›ì¸**:
- ì—…ë¡œë“œ íŒŒì¼ í¬ê¸° ì œí•œ ì´ˆê³¼ (ì¼ë°˜ì ìœ¼ë¡œ 50MB)

**í•´ê²° ë°©ë²•**:
- íŒŒì¼ í¬ê¸° ì‚¬ì „ í™•ì¸
- ì‚¬ìš©ìì—ê²Œ íŒŒì¼ í¬ê¸° ì œí•œ ì•ˆë‚´
- íŒŒì¼ ì••ì¶• ê¶Œì¥

#### 422 Unprocessable Entity

ìš”ì²­ í˜•ì‹ì€ ì˜¬ë°”ë¥´ë‚˜ ì˜ë¯¸ìƒ ì²˜ë¦¬í•  ìˆ˜ ì—†ëŠ” ê²½ìš°

**ì˜ˆì‹œ**:

```json
{
  "error": "Unprocessable Entity",
  "detail": "ì´ë¯¸ ë¶„ì„ì´ ì™„ë£Œëœ í˜ì´ì§€ì…ë‹ˆë‹¤.",
  "status_code": 422
}
```

**ì›ì¸**:
- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ìœ„ë°˜
- ìƒíƒœ ì¶©ëŒ

**í•´ê²° ë°©ë²•**:
- ë¦¬ì†ŒìŠ¤ í˜„ì¬ ìƒíƒœ í™•ì¸
- ì¡°ê±´ë¶€ ìš”ì²­ ì²˜ë¦¬

### 5xx: ì„œë²„ ì—ëŸ¬

#### 500 Internal Server Error

ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜

**ì˜ˆì‹œ**:

```json
{
  "error": "Internal Server Error",
  "detail": "ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹¤íŒ¨",
  "status_code": 500
}
```

**ì›ì¸**:
- ì„œë²„ ë‚´ë¶€ ë²„ê·¸
- ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì˜¤ë¥˜
- ì˜ˆìƒì¹˜ ëª»í•œ ì˜ˆì™¸

**í•´ê²° ë°©ë²•**:
- ì ì‹œ í›„ ì¬ì‹œë„
- ê³„ì† ë°œìƒ ì‹œ ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜
- ì—ëŸ¬ ë¡œê·¸ ìˆ˜ì§‘ ë° ë¦¬í¬íŠ¸

#### 501 Not Implemented

ê¸°ëŠ¥ì´ êµ¬í˜„ë˜ì§€ ì•ŠìŒ

**ì˜ˆì‹œ**:

```json
{
  "error": "python-docx ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì„¤ì¹˜ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.",
  "status_code": 501
}
```

**ì›ì¸**:
- ì„œë²„ í™˜ê²½ ì„¤ì • ë¬¸ì œ
- í•„ìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¯¸ì„¤ì¹˜

**í•´ê²° ë°©ë²•**:
- ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜
- ëŒ€ì²´ ê¸°ëŠ¥ ì‚¬ìš©

#### 503 Service Unavailable

ì„œë¹„ìŠ¤ ì¼ì‹œì  ì‚¬ìš© ë¶ˆê°€

**ì˜ˆì‹œ**:

```json
{
  "error": "Service Unavailable",
  "detail": "ì„œë²„ê°€ ê³¼ë¶€í•˜ ìƒíƒœì…ë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.",
  "status_code": 503
}
```

**ì›ì¸**:
- ì„œë²„ ê³¼ë¶€í•˜
- ìœ ì§€ë³´ìˆ˜ ì¤‘
- ì¼ì‹œì  ì¥ì• 

**í•´ê²° ë°©ë²•**:
- ì§€ìˆ˜ ë°±ì˜¤í”„(exponential backoff)ë¡œ ì¬ì‹œë„
- ì‚¬ìš©ìì—ê²Œ ì•ˆë‚´ ë©”ì‹œì§€ í‘œì‹œ

---

## ê³µí†µ ì—ëŸ¬ ì½”ë“œ

### í”„ë¡œì íŠ¸ ê´€ë ¨

| HTTP | ì—ëŸ¬ ë©”ì‹œì§€ | ì›ì¸ | í•´ê²° ë°©ë²• |
|------|------------|------|----------|
| 400 | `project_nameì€ 1ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.` | í”„ë¡œì íŠ¸ ì´ë¦„ì´ ë¹„ì–´ìˆìŒ | í”„ë¡œì íŠ¸ ì´ë¦„ ì…ë ¥ í™•ì¸ |
| 400 | `doc_type_idëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤.` | ë¬¸ì„œ íƒ€ì… ID ëˆ„ë½ | doc_type_id ì œê³µ (1 ë˜ëŠ” 2) |
| 404 | `í”„ë¡œì íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.` | ì¡´ì¬í•˜ì§€ ì•ŠëŠ” í”„ë¡œì íŠ¸ ID | í”„ë¡œì íŠ¸ ID í™•ì¸ |

### í˜ì´ì§€ ê´€ë ¨

| HTTP | ì—ëŸ¬ ë©”ì‹œì§€ | ì›ì¸ | í•´ê²° ë°©ë²• |
|------|------------|------|----------|
| 400 | `ì´ë¯¸ì§€ ì—…ë¡œë“œ ì‹œ page_numberëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤.` | ì´ë¯¸ì§€ ì—…ë¡œë“œ ì‹œ í˜ì´ì§€ ë²ˆí˜¸ ëˆ„ë½ | page_number ì œê³µ |
| 400 | `ì´ë¯¸ì§€ ì²˜ë¦¬ ì‹¤íŒ¨` | ì†ìƒëœ ì´ë¯¸ì§€ íŒŒì¼ | ì˜¬ë°”ë¥¸ ì´ë¯¸ì§€ íŒŒì¼ í™•ì¸ |
| 400 | `PDF ì²˜ë¦¬ ì‹¤íŒ¨` | ì†ìƒëœ PDF íŒŒì¼ | ì˜¬ë°”ë¥¸ PDF íŒŒì¼ í™•ì¸ |
| 404 | `í˜ì´ì§€ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.` | ì¡´ì¬í•˜ì§€ ì•ŠëŠ” í˜ì´ì§€ ID | í˜ì´ì§€ ID í™•ì¸ |
| 413 | `íŒŒì¼ í¬ê¸°ê°€ ë„ˆë¬´ í½ë‹ˆë‹¤.` | íŒŒì¼ í¬ê¸° ì œí•œ ì´ˆê³¼ | íŒŒì¼ í¬ê¸° í™•ì¸ (ìµœëŒ€ 50MB) |

### ë¶„ì„ ê´€ë ¨

| HTTP | ì—ëŸ¬ ë©”ì‹œì§€ | ì›ì¸ | í•´ê²° ë°©ë²• |
|------|------------|------|----------|
| 400 | `ë¶„ì„í•  í˜ì´ì§€ê°€ ì—†ìŠµë‹ˆë‹¤.` | pending ìƒíƒœ í˜ì´ì§€ ì—†ìŒ | í˜ì´ì§€ ì—…ë¡œë“œ ë¨¼ì € ìˆ˜í–‰ |
| 404 | `ì‘ì—…ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.` | ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì‘ì—… ID | ì‘ì—… ID í™•ì¸ |
| 500 | `ë ˆì´ì•„ì›ƒ ë¶„ì„ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.` | AI ëª¨ë¸ ì˜¤ë¥˜ | ì¬ì‹œë„ ë˜ëŠ” ê´€ë¦¬ì ë¬¸ì˜ |

### ë‹¤ìš´ë¡œë“œ ê´€ë ¨

| HTTP | ì—ëŸ¬ ë©”ì‹œì§€ | ì›ì¸ | í•´ê²° ë°©ë²• |
|------|------------|------|----------|
| 404 | `í†µí•© í…ìŠ¤íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.` | ë¶„ì„ë˜ì§€ ì•Šì€ í”„ë¡œì íŠ¸ | ë¶„ì„ ë¨¼ì € ìˆ˜í–‰ |
| 500 | `Word ë¬¸ì„œ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.` | ë¬¸ì„œ ë³€í™˜ ì˜¤ë¥˜ | ì¬ì‹œë„ ë˜ëŠ” ê´€ë¦¬ì ë¬¸ì˜ |
| 501 | `python-docx ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì„¤ì¹˜ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.` | ì„œë²„ ì„¤ì • ë¬¸ì œ | ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜ |

---

## ì—ëŸ¬ ì²˜ë¦¬ ëª¨ë²” ì‚¬ë¡€

### 1. ì¼ê´€ëœ ì—ëŸ¬ í•¸ë“¤ë§

ëª¨ë“  API í˜¸ì¶œì— ëŒ€í•´ ì¼ê´€ëœ ì—ëŸ¬ ì²˜ë¦¬ ë¡œì§ì„ ì ìš©í•˜ì„¸ìš”.

```javascript
// âŒ ë‚˜ìœ ì˜ˆ
fetch('/api/projects')
  .then(res => res.json())
  .then(data => console.log(data));

// âœ… ì¢‹ì€ ì˜ˆ
fetch('/api/projects')
  .then(res => {
    if (!res.ok) {
      throw new Error(`HTTP ${res.status}`);
    }
    return res.json();
  })
  .then(data => console.log(data))
  .catch(error => {
    console.error('ì—ëŸ¬ ë°œìƒ:', error);
    showErrorMessage(error.message);
  });
```

### 2. ì‚¬ìš©ì ì¹œí™”ì ì¸ ì—ëŸ¬ ë©”ì‹œì§€

ì„œë²„ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ê·¸ëŒ€ë¡œ í‘œì‹œí•˜ì§€ ë§ê³ , ì‚¬ìš©ìê°€ ì´í•´í•˜ê¸° ì‰¬ìš´ ë©”ì‹œì§€ë¡œ ë³€í™˜í•˜ì„¸ìš”.

```javascript
function getUserFriendlyMessage(error) {
  const errorMessages = {
    404: 'ìš”ì²­í•œ í•­ëª©ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.',
    413: 'íŒŒì¼ í¬ê¸°ê°€ ë„ˆë¬´ í½ë‹ˆë‹¤. 50MB ì´í•˜ì˜ íŒŒì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”.',
    500: 'ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.',
    503: 'ì„œë¹„ìŠ¤ê°€ ì¼ì‹œì ìœ¼ë¡œ ì‚¬ìš© ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.'
  };
  
  return errorMessages[error.status_code] || 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
}
```

### 3. ì¬ì‹œë„ ë¡œì§

ì¼ì‹œì ì¸ ì˜¤ë¥˜(5xx)ì— ëŒ€í•´ì„œëŠ” ì¬ì‹œë„ ë¡œì§ì„ êµ¬í˜„í•˜ì„¸ìš”.

```javascript
async function fetchWithRetry(url, options = {}, maxRetries = 3) {
  let lastError;
  
  for (let i = 0; i < maxRetries; i++) {
    try {
      const response = await fetch(url, options);
      
      if (response.ok || response.status < 500) {
        // ì„±ê³µí•˜ê±°ë‚˜ 4xx ì—ëŸ¬ëŠ” ì¬ì‹œë„í•˜ì§€ ì•ŠìŒ
        return response;
      }
      
      // 5xx ì—ëŸ¬ëŠ” ì¬ì‹œë„
      lastError = new Error(`HTTP ${response.status}`);
      
      // ì§€ìˆ˜ ë°±ì˜¤í”„
      await new Promise(resolve => setTimeout(resolve, Math.pow(2, i) * 1000));
      
    } catch (error) {
      lastError = error;
      await new Promise(resolve => setTimeout(resolve, Math.pow(2, i) * 1000));
    }
  }
  
  throw lastError;
}
```

### 4. ì „ì—­ ì—ëŸ¬ í•¸ë“¤ëŸ¬

ì „ì—­ ì—ëŸ¬ í•¸ë“¤ëŸ¬ë¥¼ ì„¤ì •í•˜ì—¬ ëª¨ë“  ì—ëŸ¬ë¥¼ ì¤‘ì•™ì—ì„œ ê´€ë¦¬í•˜ì„¸ìš”.

```javascript
// Axios ì¸í„°ì…‰í„° ì˜ˆì œ
axios.interceptors.response.use(
  response => response,
  error => {
    if (error.response) {
      // ì„œë²„ ì‘ë‹µì´ ìˆëŠ” ê²½ìš°
      const { status, data } = error.response;
      
      if (status === 401) {
        // ì¸ì¦ ì˜¤ë¥˜ - ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™
        window.location.href = '/login';
      } else if (status === 403) {
        // ê¶Œí•œ ì˜¤ë¥˜
        showErrorToast('ì ‘ê·¼ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.');
      } else if (status === 404) {
        // ë¦¬ì†ŒìŠ¤ ì—†ìŒ
        showErrorToast(data.error || 'ìš”ì²­í•œ í•­ëª©ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
      } else if (status >= 500) {
        // ì„œë²„ ì˜¤ë¥˜
        showErrorToast('ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
        // ì—ëŸ¬ ë¡œê¹…
        logErrorToServer(error);
      } else {
        // ê¸°íƒ€ ì—ëŸ¬
        showErrorToast(data.error || 'ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
      }
    } else if (error.request) {
      // ìš”ì²­ì€ ë³´ëƒˆìœ¼ë‚˜ ì‘ë‹µì´ ì—†ëŠ” ê²½ìš° (ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜)
      showErrorToast('ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì¸í„°ë„· ì—°ê²°ì„ í™•ì¸í•´ì£¼ì„¸ìš”.');
    } else {
      // ìš”ì²­ ì„¤ì • ì¤‘ ì˜¤ë¥˜
      showErrorToast('ìš”ì²­ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
    }
    
    return Promise.reject(error);
  }
);
```

---

## í”„ë¡ íŠ¸ì—”ë“œ ì—ëŸ¬ í•¸ë“¤ëŸ¬ ì˜ˆì œ

### React + Axios

```jsx
import React, { createContext, useContext, useState } from 'react';
import axios from 'axios';

// ì—ëŸ¬ ì»¨í…ìŠ¤íŠ¸
const ErrorContext = createContext();

export const useError = () => useContext(ErrorContext);

export const ErrorProvider = ({ children }) => {
  const [error, setError] = useState(null);
  
  const showError = (message, detail = null) => {
    setError({ message, detail });
    setTimeout(() => setError(null), 5000); // 5ì´ˆ í›„ ìë™ ì œê±°
  };
  
  const clearError = () => setError(null);
  
  return (
    <ErrorContext.Provider value={{ error, showError, clearError }}>
      {children}
      {error && (
        <div className="error-toast">
          <div className="error-message">{error.message}</div>
          {error.detail && <div className="error-detail">{error.detail}</div>}
          <button onClick={clearError}>Ã—</button>
        </div>
      )}
    </ErrorContext.Provider>
  );
};

// API í´ë¼ì´ì–¸íŠ¸ ì„¤ì •
const apiClient = axios.create({
  baseURL: 'http://localhost:8000',
});

// ì—ëŸ¬ í•¸ë“¤ë§ ë˜í¼
export const withErrorHandling = (apiCall) => async (...args) => {
  const { showError } = useError();
  
  try {
    return await apiCall(...args);
  } catch (error) {
    if (error.response) {
      const { status, data } = error.response;
      
      if (status === 404) {
        showError('ìš”ì²­í•œ í•­ëª©ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.', data.detail);
      } else if (status === 413) {
        showError('íŒŒì¼ í¬ê¸°ê°€ ë„ˆë¬´ í½ë‹ˆë‹¤.', '50MB ì´í•˜ì˜ íŒŒì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
      } else if (status >= 500) {
        showError('ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
      } else {
        showError(data.error || 'ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', data.detail);
      }
    } else if (error.request) {
      showError('ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜', 'ì¸í„°ë„· ì—°ê²°ì„ í™•ì¸í•´ì£¼ì„¸ìš”.');
    } else {
      showError('ìš”ì²­ ì²˜ë¦¬ ì˜¤ë¥˜', error.message);
    }
    
    throw error;
  }
};

// ì‚¬ìš© ì˜ˆì‹œ
function MyComponent() {
  const { showError } = useError();
  const [projects, setProjects] = useState([]);
  
  const fetchProjects = async () => {
    try {
      const response = await apiClient.get('/api/projects');
      setProjects(response.data);
    } catch (error) {
      // ì—ëŸ¬ëŠ” ì´ë¯¸ ErrorProviderì—ì„œ ì²˜ë¦¬ë¨
    }
  };
  
  return (
    <div>
      <button onClick={fetchProjects}>í”„ë¡œì íŠ¸ ë¶ˆëŸ¬ì˜¤ê¸°</button>
      <ul>
        {projects.map(p => (
          <li key={p.project_id}>{p.project_name}</li>
        ))}
      </ul>
    </div>
  );
}
```

### Vue.js

```javascript
// plugins/api.js
import axios from 'axios';

export default {
  install: (app) => {
    const apiClient = axios.create({
      baseURL: 'http://localhost:8000',
    });
    
    apiClient.interceptors.response.use(
      response => response,
      error => {
        if (error.response) {
          const { status, data } = error.response;
          
          let message = 'ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
          
          if (status === 404) {
            message = 'ìš”ì²­í•œ í•­ëª©ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.';
          } else if (status === 413) {
            message = 'íŒŒì¼ í¬ê¸°ê°€ ë„ˆë¬´ í½ë‹ˆë‹¤. 50MB ì´í•˜ì˜ íŒŒì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”.';
          } else if (status >= 500) {
            message = 'ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.';
          } else if (data.error) {
            message = data.error;
          }
          
          // Vue Toast ë˜ëŠ” Notification ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©
          app.config.globalProperties.$toast.error(message);
        } else if (error.request) {
          app.config.globalProperties.$toast.error('ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
        }
        
        return Promise.reject(error);
      }
    );
    
    app.config.globalProperties.$api = apiClient;
  }
};
```

---

## ì—ëŸ¬ ë¡œê¹…

í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” ì—ëŸ¬ë¥¼ ë¡œê¹…í•˜ì—¬ ë¬¸ì œë¥¼ ì¶”ì í•˜ì„¸ìš”.

```javascript
function logErrorToServer(error) {
  // Sentry, LogRocket, ìì²´ ë¡œê¹… ì„œë²„ ë“±ì— ì—ëŸ¬ ì „ì†¡
  if (window.Sentry) {
    Sentry.captureException(error);
  }
  
  // ë˜ëŠ” ìì²´ ë¡œê¹… API í˜¸ì¶œ
  fetch('/api/logs/errors', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      message: error.message,
      stack: error.stack,
      url: window.location.href,
      userAgent: navigator.userAgent,
      timestamp: new Date().toISOString()
    })
  }).catch(() => {
    // ë¡œê¹… ì‹¤íŒ¨ ì‹œ ë¬´ì‹œ (ë¬´í•œ ë£¨í”„ ë°©ì§€)
  });
}
```

---

## ë‹¤ìŒ ë‹¨ê³„

- **[ê°œìš”](./00_ê°œìš”.md)**: ì‹œìŠ¤í…œ ì†Œê°œ ë° ì‹œì‘í•˜ê¸°
- **[í”„ë¡œì íŠ¸ API](./01_í”„ë¡œì íŠ¸_API.md)**: í”„ë¡œì íŠ¸ ê´€ë¦¬ API
- **[ë°ì´í„° ëª¨ë¸](./05_ë°ì´í„°_ëª¨ë¸.md)**: ì—ëŸ¬ ì‘ë‹µ ìŠ¤í‚¤ë§ˆ
